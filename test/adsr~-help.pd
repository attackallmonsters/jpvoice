#N canvas 242 185 1309 735 12;
#X declare -path ../out;
#X obj 180 9 cnv 20 450 215 empty empty empty 20 12 0 12 #c6ffc7 #404040 0;
#X obj 183 356 snapshot~;
#X obj 460 309 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 483 309 loadbang;
#X floatatom 183 381 5 0 0 0 - - - 24;
#X obj 194 18 hsl 170 20 0 2000 0 0 empty vattack Attack 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 191 43 5 0 0 0 - - - 0;
#X obj 237 42 hsl 170 20 0 1000 0 0 empty vdecay Decay 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 234 67 5 0 0 0 - - - 0;
#X obj 281 67 hsl 170 20 0 1 0 0 empty vsustain Sustain\ level 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 278 92 5 0 0 0 - - - 0;
#X obj 322 92 hsl 170 20 0 10000 0 0 empty vrelease Release 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 319 117 5 0 0 0 - - - 0;
#X obj 364 119 hsl 170 20 -1 1 0 0 empty vattcurve Attack\ shape 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 361 144 5 0 0 0 - - - 0;
#X msg 102 270 attack \$1;
#X msg 181 270 decay \$1;
#X msg 250 270 sustain \$1;
#X msg 333 270 release \$1;
#X obj 12 137 bng 50 250 50 0 empty empty Start 9 24 0 12 #c6ffc7 #000000 #000000;
#X obj 86 137 bng 50 250 50 0 empty empty Stop 11 24 0 12 #ffc7c6 #000000 #000000;
#X msg 12 270 start;
#X msg 61 270 stop;
#X obj 460 336 metro 1;
#X obj 54 631 hsl 500 50 0 1 0 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 415 270 attackshape \$1;
#X msg 525 270 releaseshape \$1;
#X obj 405 143 hsl 170 20 -1 1 0 0 empty vrelcurve Release\ shape 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 402 168 5 0 0 0 - - - 0;
#X obj 12 53 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 12 78 \; pd dsp \$1 \;;
#X obj 774 26 loadbang;
#X obj 774 202 cnv 20 500 230 empty empty Usage 20 12 0 12 #e0e0e0 #404040 0;
#X text 789 360 attack and release shapes \; < 1: concave/logarithmic \, fast increase/decrease \; 1: linear \; > 1: convex/exponentially \, slow increase/decrease;
#X obj 183 330 adsr~;
#X obj 12 192 t b b;
#N canvas 355 238 573 304 curve 0;
#X obj 108 43 b;
#X obj 86 201 i;
#X msg 104 174 0;
#X obj 127 201 + 1;
#X floatatom 86 226 5 0 0 0 - - - 0;
#X obj 35 181 t f b;
#X obj 34 92 t f f;
#X obj 34 156 spigot;
#X obj 108 18 r r;
#X obj 34 43 * 2;
#X obj 34 68 - 1;
#X obj 77 126 > -1;
#X obj 301 21 cnv 20 198 138 empty empty empty 20 12 0 12 #000000 #404040 0;
#N canvas 0 50 450 250 (subpatch) 0;
#X array curve0 15000 float 0;
#X coords 0 1 14999 -1 200 140 1;
#X restore 300 20 graph;
#X msg 165 194 \; curve0 const -1 \; curve0 color 90 \, width 2 \;;
#X obj 35 252 array set curve0;
#X obj 34 18 r v0;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 1 0 4 0;
#X connect 2 0 1 1;
#X connect 2 0 14 0;
#X connect 3 0 1 1;
#X connect 4 0 15 1;
#X connect 5 0 15 0;
#X connect 5 1 1 0;
#X connect 6 0 7 0;
#X connect 6 1 11 0;
#X connect 7 0 5 0;
#X connect 8 0 0 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X connect 11 0 7 1;
#X connect 16 0 9 0;
#X coords 0 -1 1 1 200 140 2 300 20;
#X restore 203 483 pd curve;
#X obj 44 216 s r;
#N canvas 364 230 573 304 curve 0;
#X obj 108 43 b;
#X obj 86 201 i;
#X msg 104 174 0;
#X obj 127 201 + 1;
#X floatatom 86 226 5 0 0 0 - - - 0;
#X obj 35 181 t f b;
#X obj 34 92 t f f;
#X obj 34 156 spigot;
#X obj 108 18 r r;
#X obj 34 43 * 2;
#X obj 34 68 - 1;
#X obj 77 126 > -1;
#X obj 301 21 cnv 20 198 138 empty empty empty 20 12 0 12 #000000 #404040 0;
#N canvas 0 50 450 250 (subpatch) 0;
#X array curve1 15000 float 0;
#X coords 0 1 14999 -1 200 140 1;
#X restore 300 20 graph;
#X msg 165 194 \; curve1 const -1 \; curve1 color 90 \, width 2 \;;
#X obj 35 252 array set curve1;
#X obj 34 18 r v1;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 1 0 4 0;
#X connect 2 0 1 1;
#X connect 2 0 14 0;
#X connect 3 0 1 1;
#X connect 4 0 15 1;
#X connect 5 0 15 0;
#X connect 5 1 1 0;
#X connect 6 0 7 0;
#X connect 6 1 11 0;
#X connect 7 0 5 0;
#X connect 8 0 0 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X connect 11 0 7 1;
#X connect 16 0 9 0;
#X coords 0 -1 1 1 200 140 2 300 20;
#X restore 709 483 pd curve;
#X obj 183 419 s v0;
#X obj 342 356 snapshot~;
#X floatatom 342 381 5 0 0 0 - - - 24;
#X obj 342 330 adsr~ 1;
#X obj 342 419 s v1;
#X obj 566 631 hsl 500 50 0 1 0 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 51 605 r v0;
#X obj 563 605 r v1;
#X text 196 684 always returns to 0 first on start;
#X obj 15 17 declare -path ../out;
#X obj 153 684 adsr~;
#X obj 612 686 adsr~ 1;
#X text 668 686 continues with the last envelope status on start;
#X obj 447 168 hsl 170 20 0 100 0 0 empty vgain Gain 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 444 193 5 0 0 0 - - - 0;
#X msg 641 270 g \$1;
#X text 788 221 adsr~ param 1: 1 will start the envelope from current env level \; [attack(: attack time in ms 0 - 10000 \; [decay(: time in ms to go to sustain level 0 - 10000 \; [sustain(: sustain envelope level 0 - 1 \; [release(: release time in ms 0 - 10000 \; [attackshape(: envelope curve for attack 0.1 - 10 \; [releaseshape(: envelope curve for release 0-1 - 10 \; [g(: relative gain amplitude 0 - 1, f 66;
#X msg 774 51 \; vattack 500 \; vdecay 500 \; vsustain 0.5 \; vrelease 1000 \; vattcurve 0 \; vrelcurve 0 \; vgain 1 \; voneshot 0 \;;
#X obj 491 193 tgl 20 0 empty voneshot Oneshot 25 10 0 12 #fcfcfc #000000 #000000 0 1;
#X msg 682 270 oneshot \$1;
#X text 788 337 [oneshot(: Runs through the complete ADSR at start;
#X connect 1 0 4 0;
#X connect 2 0 23 0;
#X connect 3 0 23 0;
#X connect 4 0 39 0;
#X connect 5 0 6 0;
#X connect 6 0 15 0;
#X connect 7 0 8 0;
#X connect 8 0 16 0;
#X connect 9 0 10 0;
#X connect 10 0 17 0;
#X connect 11 0 12 0;
#X connect 12 0 18 0;
#X connect 13 0 14 0;
#X connect 14 0 25 0;
#X connect 15 0 34 0;
#X connect 15 0 42 0;
#X connect 16 0 34 0;
#X connect 16 0 42 0;
#X connect 17 0 34 0;
#X connect 17 0 42 0;
#X connect 18 0 34 0;
#X connect 18 0 42 0;
#X connect 19 0 35 0;
#X connect 20 0 22 0;
#X connect 21 0 34 0;
#X connect 21 0 42 0;
#X connect 22 0 34 0;
#X connect 22 0 42 0;
#X connect 23 0 1 0;
#X connect 23 0 40 0;
#X connect 25 0 42 0;
#X connect 25 0 34 0;
#X connect 26 0 42 0;
#X connect 26 0 34 0;
#X connect 27 0 28 0;
#X connect 28 0 26 0;
#X connect 29 0 30 0;
#X connect 31 0 56 0;
#X connect 34 0 1 0;
#X connect 35 0 21 0;
#X connect 35 1 37 0;
#X connect 40 0 41 0;
#X connect 41 0 43 0;
#X connect 42 0 40 0;
#X connect 45 0 24 0;
#X connect 46 0 44 0;
#X connect 52 0 53 0;
#X connect 53 0 54 0;
#X connect 54 0 42 0;
#X connect 54 0 34 0;
#X connect 57 0 58 0;
#X connect 58 0 42 0;
#X connect 58 0 34 0;
